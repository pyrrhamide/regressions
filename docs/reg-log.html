<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 2 Régressions logistiques | Toutes les méthodes du master</title>
  <meta name="description" content="Chapitre 2 Régressions logistiques | Toutes les méthodes du master" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 2 Régressions logistiques | Toutes les méthodes du master" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="pyrrhamide/regressions" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 2 Régressions logistiques | Toutes les méthodes du master" />
  
  
  

<meta name="author" content="Kanto Fiaferana" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="reg-lin.html"/>
<link rel="next" href="log-lin.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html">Méthodes du master</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Présentation</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#le-site"><i class="fa fa-check"></i>Le site</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#mea-culpa"><i class="fa fa-check"></i>Mea culpa</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#lunion-fait-la-force"><i class="fa fa-check"></i>L’union fait la force</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="les-ingrédients.html"><a href="les-ingrédients.html"><i class="fa fa-check"></i>Les ingrédients</a></li>
<li class="part"><span><b>Démarrage</b></span></li>
<li class="chapter" data-level="" data-path="stat-desc.html"><a href="stat-desc.html"><i class="fa fa-check"></i>Statistiques descriptives</a></li>
<li class="chapter" data-level="" data-path="nettoyage.html"><a href="nettoyage.html"><i class="fa fa-check"></i>Nettoyage des données</a></li>
<li class="part"><span><b>Méthodes de régressions</b></span></li>
<li class="chapter" data-level="1" data-path="reg-lin.html"><a href="reg-lin.html"><i class="fa fa-check"></i><b>1</b> Régressions linéaires</a>
<ul>
<li class="chapter" data-level="1.1" data-path="reg-lin.html"><a href="reg-lin.html#moindres-carrés-ordinaires---hypothèses"><i class="fa fa-check"></i><b>1.1</b> Moindres Carrés Ordinaires - hypothèses</a></li>
<li class="chapter" data-level="1.2" data-path="reg-lin.html"><a href="reg-lin.html#régressions-linéaires-simple-et-multiple"><i class="fa fa-check"></i><b>1.2</b> Régressions linéaires simple et multiple</a></li>
<li class="chapter" data-level="1.3" data-path="reg-lin.html"><a href="reg-lin.html#régression-linéaire-de-probabilité"><i class="fa fa-check"></i><b>1.3</b> Régression linéaire de probabilité</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="reg-log.html"><a href="reg-log.html"><i class="fa fa-check"></i><b>2</b> Régressions logistiques</a>
<ul>
<li class="chapter" data-level="2.1" data-path="reg-log.html"><a href="reg-log.html#régression-logistique-dichotomique"><i class="fa fa-check"></i><b>2.1</b> Régression logistique dichotomique</a></li>
<li class="chapter" data-level="2.2" data-path="reg-log.html"><a href="reg-log.html#régression-logistique-polytomique"><i class="fa fa-check"></i><b>2.2</b> Régression logistique polytomique</a></li>
<li class="chapter" data-level="2.3" data-path="reg-log.html"><a href="reg-log.html#odds-ratio-complet"><i class="fa fa-check"></i><b>2.3</b> Odds ratio</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="log-lin.html"><a href="log-lin.html"><i class="fa fa-check"></i><b>3</b> Régression log-linéaire</a>
<ul>
<li class="chapter" data-level="3.1" data-path="log-lin.html"><a href="log-lin.html#modèle-de-lindépendance"><i class="fa fa-check"></i><b>3.1</b> Modèle de l’indépendance</a></li>
<li class="chapter" data-level="3.2" data-path="log-lin.html"><a href="log-lin.html#modèles-avec-interaction"><i class="fa fa-check"></i><b>3.2</b> Modèles avec interaction</a></li>
<li class="chapter" data-level="3.3" data-path="log-lin.html"><a href="log-lin.html#analyse-de-deviance"><i class="fa fa-check"></i><b>3.3</b> Analyse de deviance</a></li>
<li class="chapter" data-level="3.4" data-path="log-lin.html"><a href="log-lin.html#odds-ratio"><i class="fa fa-check"></i><b>3.4</b> Odds ratio</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="mod-id2.html"><a href="mod-id2.html"><i class="fa fa-check"></i><b>4</b> Modélisation et identification causale, vol. 2</a>
<ul>
<li class="chapter" data-level="4.1" data-path="mod-id2.html"><a href="mod-id2.html#approches-expérimentales"><i class="fa fa-check"></i><b>4.1</b> Approches expérimentales</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="mod-id2.html"><a href="mod-id2.html#expériences-aléatoires-contrôlées"><i class="fa fa-check"></i><b>4.1.1</b> Expériences aléatoires contrôlées</a></li>
<li class="chapter" data-level="4.1.2" data-path="mod-id2.html"><a href="mod-id2.html#expériences-naturelles"><i class="fa fa-check"></i><b>4.1.2</b> Expériences naturelles</a></li>
<li class="chapter" data-level="4.1.3" data-path="mod-id2.html"><a href="mod-id2.html#différences-de-différences-differences-in-differences"><i class="fa fa-check"></i><b>4.1.3</b> Différences-de-différences (<em>differences-in-differences</em>)</a></li>
<li class="chapter" data-level="4.1.4" data-path="mod-id2.html"><a href="mod-id2.html#régression-par-discontinuité-regression-discontinuity-design"><i class="fa fa-check"></i><b>4.1.4</b> Régression par discontinuité (<em>Regression discontinuity design</em>)</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="mod-id2.html"><a href="mod-id2.html#variables-instrumentales"><i class="fa fa-check"></i><b>4.2</b> Variables instrumentales</a></li>
<li class="chapter" data-level="4.3" data-path="mod-id2.html"><a href="mod-id2.html#econométrie-des-panels"><i class="fa fa-check"></i><b>4.3</b> Econométrie des panels</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="mod-id2.html"><a href="mod-id2.html#le-modèle-homogène-ou-pooled"><i class="fa fa-check"></i><b>4.3.1</b> Le modèle homogène, ou <em>pooled</em></a></li>
<li class="chapter" data-level="4.3.2" data-path="mod-id2.html"><a href="mod-id2.html#les-modèles-à-effet-aléatoire"><i class="fa fa-check"></i><b>4.3.2</b> Les modèles à effet aléatoire</a></li>
<li class="chapter" data-level="4.3.3" data-path="mod-id2.html"><a href="mod-id2.html#le-problème-dhétérogénéité-inobservée"><i class="fa fa-check"></i><b>4.3.3</b> Le problème d’hétérogénéité inobservée</a></li>
<li class="chapter" data-level="4.3.4" data-path="mod-id2.html"><a href="mod-id2.html#se-concentrer-sur-la-variance-interindividuelle-et-éliminer-la-variance-intra-individuelle"><i class="fa fa-check"></i><b>4.3.4</b> Se concentrer sur la variance interindividuelle et éliminer la variance intra-individuelle</a></li>
<li class="chapter" data-level="4.3.5" data-path="mod-id2.html"><a href="mod-id2.html#limites-des-effets-fixes"><i class="fa fa-check"></i><b>4.3.5</b> Limites des effets fixes</a></li>
<li class="chapter" data-level="4.3.6" data-path="mod-id2.html"><a href="mod-id2.html#extension-logistique"><i class="fa fa-check"></i><b>4.3.6</b> Extension logistique</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="an-long.html"><a href="an-long.html"><i class="fa fa-check"></i><b>5</b> Analyses longitudinales</a>
<ul>
<li class="chapter" data-level="5.1" data-path="an-long.html"><a href="an-long.html#pseudo-panels"><i class="fa fa-check"></i><b>5.1</b> Pseudo-panels</a></li>
<li class="chapter" data-level="5.2" data-path="an-long.html"><a href="an-long.html#modèles-linéaires"><i class="fa fa-check"></i><b>5.2</b> Modèles linéaires</a></li>
<li class="chapter" data-level="5.3" data-path="an-long.html"><a href="an-long.html#modèles-dynamiques"><i class="fa fa-check"></i><b>5.3</b> Modèles dynamiques</a></li>
<li class="chapter" data-level="5.4" data-path="an-long.html"><a href="an-long.html#modèles-non-linéaires"><i class="fa fa-check"></i><b>5.4</b> Modèles non-linéaires</a></li>
<li class="chapter" data-level="5.5" data-path="an-long.html"><a href="an-long.html#modèles-de-durée"><i class="fa fa-check"></i><b>5.5</b> Modèles de durée</a></li>
<li class="chapter" data-level="5.6" data-path="an-long.html"><a href="an-long.html#optimal-matching"><i class="fa fa-check"></i><b>5.6</b> Optimal matching</a></li>
</ul></li>
<li class="part"><span><b>Autres méthodes</b></span></li>
<li class="chapter" data-level="6" data-path="an-res.html"><a href="an-res.html"><i class="fa fa-check"></i><b>6</b> Analyses de réseaux</a>
<ul>
<li class="chapter" data-level="6.1" data-path="an-res.html"><a href="an-res.html#bases-de-la-théorie"><i class="fa fa-check"></i><b>6.1</b> Bases de la théorie</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="an-res.html"><a href="an-res.html#matrices"><i class="fa fa-check"></i><b>6.1.1</b> Matrices</a></li>
<li class="chapter" data-level="6.1.2" data-path="an-res.html"><a href="an-res.html#liens"><i class="fa fa-check"></i><b>6.1.2</b> Liens</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="an-res.html"><a href="an-res.html#structures-locales"><i class="fa fa-check"></i><b>6.2</b> Structures locales</a></li>
<li class="chapter" data-level="6.3" data-path="an-res.html"><a href="an-res.html#connectivité"><i class="fa fa-check"></i><b>6.3</b> Connectivité</a></li>
<li class="chapter" data-level="6.4" data-path="an-res.html"><a href="an-res.html#mesures-basiques-de-cohésion"><i class="fa fa-check"></i><b>6.4</b> Mesures basiques de cohésion</a></li>
<li class="chapter" data-level="6.5" data-path="an-res.html"><a href="an-res.html#mesures-de-diversité"><i class="fa fa-check"></i><b>6.5</b> Mesures de diversité</a></li>
<li class="chapter" data-level="6.6" data-path="an-res.html"><a href="an-res.html#mesures-de-centralité"><i class="fa fa-check"></i><b>6.6</b> Mesures de centralité</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="agd.html"><a href="agd.html"><i class="fa fa-check"></i><b>7</b> Analyses géométriques des données</a>
<ul>
<li class="chapter" data-level="7.1" data-path="agd.html"><a href="agd.html#analyse-en-composantes-principales"><i class="fa fa-check"></i><b>7.1</b> Analyse en Composantes Principales</a></li>
<li class="chapter" data-level="7.2" data-path="agd.html"><a href="agd.html#analyse-des-correspondances-multiples"><i class="fa fa-check"></i><b>7.2</b> Analyse des Correspondances Multiples</a></li>
<li class="chapter" data-level="7.3" data-path="agd.html"><a href="agd.html#analyse-factorielle-des-correspondances"><i class="fa fa-check"></i><b>7.3</b> Analyse Factorielle des Correspondances</a></li>
<li class="chapter" data-level="7.4" data-path="agd.html"><a href="agd.html#classification-ascendante-hiérachique"><i class="fa fa-check"></i><b>7.4</b> Classification Ascendante Hiérachique</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="datamining.html"><a href="datamining.html"><i class="fa fa-check"></i><b>8</b> Datamining</a>
<ul>
<li class="chapter" data-level="8.1" data-path="datamining.html"><a href="datamining.html#analyses-textuelles"><i class="fa fa-check"></i><b>8.1</b> Analyses textuelles</a></li>
<li class="chapter" data-level="8.2" data-path="datamining.html"><a href="datamining.html#webscrapping"><i class="fa fa-check"></i><b>8.2</b> Webscrapping</a></li>
<li class="chapter" data-level="8.3" data-path="datamining.html"><a href="datamining.html#cartographie"><i class="fa fa-check"></i><b>8.3</b> Cartographie</a></li>
</ul></li>
<li class="appendix"><span><b>Annexe</b></span></li>
<li class="chapter" data-level="A" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>A</b> RMarkdown</a>
<ul>
<li class="chapter" data-level="A.1" data-path="rmarkdown.html"><a href="rmarkdown.html#présentation-1"><i class="fa fa-check"></i><b>A.1</b> Présentation</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="rmarkdown.html"><a href="rmarkdown.html#c-koi"><i class="fa fa-check"></i><b>A.1.1</b> c koi?</a></li>
<li class="chapter" data-level="A.1.2" data-path="rmarkdown.html"><a href="rmarkdown.html#à-koi-ça-sert"><i class="fa fa-check"></i><b>A.1.2</b> à koi ça sert?</a></li>
<li class="chapter" data-level="A.1.3" data-path="rmarkdown.html"><a href="rmarkdown.html#keske-je-peux-faire-avec"><i class="fa fa-check"></i><b>A.1.3</b> keske je peux faire avec?</a></li>
<li class="chapter" data-level="A.1.4" data-path="rmarkdown.html"><a href="rmarkdown.html#packages-utiles-pour-les-rendus"><i class="fa fa-check"></i><b>A.1.4</b> Packages utiles pour les rendus</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="rmarkdown.html"><a href="rmarkdown.html#syntaxe"><i class="fa fa-check"></i><b>A.2</b> Syntaxe</a>
<ul>
<li class="chapter" data-level="A.2.1" data-path="rmarkdown.html"><a href="rmarkdown.html#texte"><i class="fa fa-check"></i><b>A.2.1</b> Texte</a></li>
<li class="chapter" data-level="A.2.2" data-path="rmarkdown.html"><a href="rmarkdown.html#titres"><i class="fa fa-check"></i><b>A.2.2</b> Titres</a></li>
<li class="chapter" data-level="A.2.3" data-path="rmarkdown.html"><a href="rmarkdown.html#liste"><i class="fa fa-check"></i><b>A.2.3</b> Liste</a></li>
<li class="chapter" data-level="A.2.4" data-path="rmarkdown.html"><a href="rmarkdown.html#tableau"><i class="fa fa-check"></i><b>A.2.4</b> Tableau</a></li>
<li class="chapter" data-level="A.2.5" data-path="rmarkdown.html"><a href="rmarkdown.html#bibliographie"><i class="fa fa-check"></i><b>A.2.5</b> Bibliographie</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="rmarkdown.html"><a href="rmarkdown.html#en-tete"><i class="fa fa-check"></i><b>A.3</b> En-tête du fichier</a></li>
<li class="chapter" data-level="A.4" data-path="rmarkdown.html"><a href="rmarkdown.html#morceaux-de-code"><i class="fa fa-check"></i><b>A.4</b> Morceaux de code</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="trucs-et-astuces.html"><a href="trucs-et-astuces.html"><i class="fa fa-check"></i><b>B</b> Trucs et astuces</a>
<ul>
<li class="chapter" data-level="B.1" data-path="trucs-et-astuces.html"><a href="trucs-et-astuces.html#raccourcis-clavier"><i class="fa fa-check"></i><b>B.1</b> Raccourcis clavier</a></li>
<li class="chapter" data-level="B.2" data-path="trucs-et-astuces.html"><a href="trucs-et-astuces.html#pipes-de-magrittr"><i class="fa fa-check"></i><b>B.2</b> Pipes de <code>magrittr</code></a></li>
<li class="chapter" data-level="B.3" data-path="trucs-et-astuces.html"><a href="trucs-et-astuces.html#autres-trucs"><i class="fa fa-check"></i><b>B.3</b> Autres trucs</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Publié avec bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Toutes les méthodes du master</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="reg-log" class="section level1" number="2">
<h1><span class="header-section-number">Chapitre 2</span> Régressions logistiques</h1>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="reg-log.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glm2) <span class="co"># pour effectuer régressions logistiques</span></span>
<span id="cb8-2"><a href="reg-log.html#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(nnet) <span class="co"># pour effectuer régressions logistiques polytomiques</span></span></code></pre></div>
<p><span class="math display">\[logit(p) = log(\frac{p}{1-p}) = \beta_0 + \sum_{j=1}^n \beta_j X_{ij}\]</span></p>
<div id="régression-logistique-dichotomique" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Régression logistique dichotomique</h2>
<p>Pour une raison qui m’échappe parce que je suis pas très fraîche, et tout simplement parce que je ne sais pas, on n’utilise pas le modèle de <strong>régression linéaire de probabilité</strong> mais plutôt le modèle de <strong>régression logistique dichotomique</strong>. Pour les coefficients, on parlera de l’effet du logit de probabilité que l’évènement <span class="math inline">\(y=1\)</span> se passe.</p>
<p>On lance d’abord le modèle de régression logistique à effets principaux, ou modèle de l’indépendance :</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="reg-log.html#cb9-1" aria-hidden="true" tabindex="-1"></a>model_6 <span class="ot">&lt;-</span> <span class="fu">glm</span>(var_dep_dicho <span class="sc">~</span> var_indep1 <span class="sc">+</span> var_indep2 <span class="sc">+</span> var_indep3, <span class="at">data =</span> d, <span class="at">weights =</span> poids, <span class="at">family=</span>binomial)</span>
<span id="cb9-2"><a href="reg-log.html#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="reg-log.html#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># note sur glm: c&#39;est une fonction de base de R, je ne connais pas la différence avec glm2.</span></span></code></pre></div>
<p><em>Petite note sur le modèle de l’indépendance totale</em> : c’est le modèle dans lequel tu balances tes variables explicatives sans interaction ou association, pour vérifier si les variables sont indépendantes entre elles, càd si ✨ <em>toutes choses égales par ailleurs</em> ✨ elles expliquent le phénomène à elles seules. Cependant, en socio, c’est inimaginable que la classe sociale et le sexe agissent indépendamment l’un de l’autre, c’est pour cette raison qu’on choisirait d’interagir ces variables entre elles.</p>
<p>Pour vérifier si les variables sont indépendantes, tu regardes la <em>residual deviance</em> : si c’est un nombre énorme<a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a>, direction interaction-ville.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="reg-log.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># On met le modèle précédent à jour, en ajoutant des interactions.</span></span>
<span id="cb10-2"><a href="reg-log.html#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="reg-log.html#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># pour une unique interaction</span></span>
<span id="cb10-4"><a href="reg-log.html#cb10-4" aria-hidden="true" tabindex="-1"></a>model_7 <span class="ot">&lt;-</span> <span class="fu">update</span>(model_6, . <span class="sc">~</span> . <span class="sc">+</span> var_indep1<span class="sc">*</span>var_indep2)</span>
<span id="cb10-5"><a href="reg-log.html#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="reg-log.html#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co"># pour interagir toutes les modalités de toutes les variables entre elles (interaction d&#39;ordre 2)</span></span>
<span id="cb10-7"><a href="reg-log.html#cb10-7" aria-hidden="true" tabindex="-1"></a>model_8 <span class="ot">&lt;-</span> <span class="fu">glm</span>(var_dep_dicho <span class="sc">~</span> (var_indep1 <span class="sc">+</span> var_indep2 <span class="sc">+</span> var_indep3)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> d, <span class="at">weights =</span> poids, <span class="at">family=</span>binomial)</span>
<span id="cb10-8"><a href="reg-log.html#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="reg-log.html#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co"># pour interagir var_indep3 avec var_indep1 et var_indep2 [plus rapide que d&#39;écrire individuellement chaque interaction]</span></span>
<span id="cb10-10"><a href="reg-log.html#cb10-10" aria-hidden="true" tabindex="-1"></a>model_9 <span class="ot">&lt;-</span> <span class="fu">glm</span>(var_dep_dicho <span class="sc">~</span> (var_indep1 <span class="sc">+</span> var_indep2)<span class="sc">*</span>var_indep3, <span class="at">data =</span> d, <span class="at">weights =</span> poids, <span class="at">family=</span>binomial)</span>
<span id="cb10-11"><a href="reg-log.html#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="reg-log.html#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co"># le modèle saturé (interaction d&#39;ordre 3 - toutes les interactions inférieures seront automatiquement là)</span></span>
<span id="cb10-13"><a href="reg-log.html#cb10-13" aria-hidden="true" tabindex="-1"></a>model_10 <span class="ot">&lt;-</span> <span class="fu">glm</span>(var_dep_dicho <span class="sc">~</span> var_indep1<span class="sc">*</span>var_indep2<span class="sc">*</span>var_indep3,d,binomial)</span></code></pre></div>
<p>Le coefficient d’interaction s’additionne aux coefficients de base des catégories qui correspondent à ce nouveau coef.</p>
<p>Par exemple, on interagit le sexe et le niveau de diplôme. Tu obtiens les résultats suivants :</p>
<ul>
<li><span class="math inline">\(\beta_1\)</span> le coefficient pour sexe=1 (par exemple les filles);</li>
<li><span class="math inline">\(\beta_2\)</span> le coefficient du niveau de diplôme=1 (par exemple ceux qui ont obtenu une licence);</li>
<li><span class="math inline">\(\beta_3\)</span> le coefficient de l’interaction entre les deux <strong>modalités</strong>.</li>
</ul>
<p>Pour obtenir le vrai effet de l’obtention de la licence chez les filles sur la <span class="math inline">\(var\_dep\)</span>, tu additionnes ces trois coefficients. Tu ne peux pas additionner le coefficient d’interaction pour les garçons avec licence, ou les filles sans licence.</p>
<p>On veut voir si l’ajout de ces interactions est statistiquement significative (il y a la méthode qui suit, et <a href="log-lin.html#analyse-de-deviance">une autre qu’on a vu plus tard</a>). On effectue un test statistique sur l’interaction, qui est distribué comme une loi du khi-deux, sur la différence de vraisemblance entre les modèles d’indépendance et d’interaction.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="reg-log.html#cb11-1" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">*</span>(<span class="fu">logLik</span>(model_7)<span class="sc">-</span><span class="fu">logLik</span>(model_6)) [<span class="dv">1</span>]</span>
<span id="cb11-2"><a href="reg-log.html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Entre ces deux modèles, il n&#39;y a qu&#39;une variable/modalité en plus, donc le degré de liberté est de 1 (je sais plus pourquoi).</span></span>
<span id="cb11-3"><a href="reg-log.html#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">-</span><span class="fu">pchisq</span>(test,<span class="dv">1</span>) <span class="co"># (test,1), 1 étant le ddl.</span></span></code></pre></div>
<p>On obtient la probabilité que l’interaction soit due au hasard. Si la valeur est inférieure ou égale à 0.10, on peut rejeter l’hypothèse que l’interaction soit due au hasard.</p>
</div>
<div id="régression-logistique-polytomique" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Régression logistique polytomique</h2>
<p>On a vu la <strong>régression logistique dichotomique</strong>. Mais pour une variable à expliquer qui contient plus de 2 modalités, on utilise le modèle de <strong>régression logistique polytomique</strong>.</p>
<p>Imaginons que tu ais une variable <span class="math inline">\(n\)</span> à expliquer avec des modalités 1 (modalité de référence), 2 et 3, et une variable <span class="math inline">\(m\)</span> explicative avec des modalités A (modalité de ref), B et C. Tu interpréteras un coefficient ainsi : “toutes choses égales par ailleurs, le logit de probabilité que l’évènement <span class="math inline">\(y=2\)</span> se produise, par rapport à l’évènement <span class="math inline">\(y=1\)</span>, pour le groupe B augmente/diminue par rapport au groupe A”.</p>
<p>C’est une phrase assez dégueulasse. Toutefois c’est un modèle de régression sur lequel on ne s’est pas attardés l’année dernière donc je n’en dis pas plus. Voici la commande pour lancer le modèle.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="reg-log.html#cb12-1" aria-hidden="true" tabindex="-1"></a>model_10 <span class="ot">&lt;-</span> <span class="fu">multinom</span>(var_dep_poly <span class="sc">~</span> var_indep1 <span class="sc">+</span> var_indep2 <span class="sc">+</span> var_indep3, <span class="at">data=</span>d, <span class="at">weights=</span>poids)</span></code></pre></div>
<p>Si je me souviens bien, on ne s’est pas attardé dessus parce que la fonction était cassée. Le package <code>qessmasteR</code> (en cours de développement) contient la fonction <code>multi_mpl</code> pour effectuer ce type de régression.</p>
</div>
<div id="odds-ratio-complet" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Odds ratio</h2>
<p>Passons à un truc dont on parle beaucoup en classe : les <strong>odds ratio</strong>. Les coefficients d’une régression logistique ne sont pas évidents à interpréter (dans le sens où c’est long de dire “le logit de probabilité” et que humainement, c’est moche). On passe donc les coefficients logit par la fonction exponentielle, ce qui nous donne les odds ratio (OR).</p>
<p>Un OR est la chance qu’un évènement <span class="math inline">\(y=1\)</span> plutôt que <span class="math inline">\(y=0\)</span><a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a> se passe pour une condition B, par rapport à ce que cet évènement <span class="math inline">\(y=1\)</span> se passe pour une condition A (condition de référence).</p>
<p>L’OR est compris entre <span class="math inline">\([0;+\infty[\)</span>. Pour un OR compris entre 0 et 1, la chance que le truc se passe pour un groupe B est en fait moindre que la chance qu’il se passe pour le groupe A, mais on dira/je dis quand même “l’évènement a 0.14 fois plus de chance de se passer pour le groupe B que pour le groupe A”. Après, il va de soi que multiplier quelque chose par une valeur inférieure à 1 diminue le résultat.</p>
<p>Pour obtenir les coefficients de la régression en OR, on utilise la commande suivante :</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="reg-log.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(model_7<span class="sc">$</span>coefficients)</span>
<span id="cb13-2"><a href="reg-log.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ou</span></span>
<span id="cb13-3"><a href="reg-log.html#cb13-3" aria-hidden="true" tabindex="-1"></a>model_7<span class="sc">$</span>coefficients <span class="sc">%&gt;%</span> exp <span class="co"># au choix</span></span></code></pre></div>
<p>Les odds ratios se calculent également à partir des effectifs attendus, estimés par le modèle (<code>model$fitted.values</code>). Imaginons qu’on ait le tableau de contingence suivant, avec les effectifs estimés:</p>
<table>
<thead>
<tr class="header">
<th></th>
<th>Je suis à l’heure</th>
<th>Je suis en retard</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Il y a une feuille sur les rails</td>
<td><span class="math inline">\(m_{1,1}\)</span></td>
<td><span class="math inline">\(m_{1,2}\)</span></td>
</tr>
<tr class="even">
<td>RAS sur les rails</td>
<td><span class="math inline">\(m_{2,1}\)</span></td>
<td><span class="math inline">\(m_{2,2}\)</span></td>
</tr>
</tbody>
</table>
<p>La formule pour calculer l’OR est la suivante:
<span class="math display">\[ OR = \frac{m_{1,1} \times m_{2,2}}{m_{2,1} \times m_{1,2}} \]</span></p>
<p>Là j’ai calculé l’odds ratio/la chance que je sois à l’heure sachant qu’il y a une feuille sur les rails.</p>
<p>Il existe trois relations selon la valeur de l’OR:</p>
<ul>
<li>OR &lt; 1: indique une relation négative entre deux variables (moins de chance que).</li>
<li>OR = 1: indique une relation neutre entre deux variables (même chance que).</li>
<li>OR &gt; 1: indique une relation positive entre les deux variables (plus de chance que).</li>
</ul>
<p>Pour obtenir l’odds ratio inverse de celui qu’on a dans les mains, on peut diviser 1 par l’OR. Attention à l’interprétation!</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="8">
<li id="fn8"><p>Plus sérieusement, si la valeur dépasse largement le seuil critique de la distribution du khi-deux (selon les degrés de libertés of course), on rejette l’hypothèse de l’indépendance statistique entre les variables. Vu qu’il reste quand même un pâté de déviance à expliquer, on introduit des interactions dans le modèle de l’indépendance totale.<a href="reg-log.html#fnref8" class="footnote-back">↩︎</a></p></li>
<li id="fn9"><p>à vérifier.<a href="reg-log.html#fnref9" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="reg-lin.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="log-lin.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/pyrrhamide/regressions/blob/main/04_reg_log.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
